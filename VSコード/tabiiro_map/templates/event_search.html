{% extends "base.html" %}
{% block main_content %}
<section class="event-search">
    <h2>イベント検索</h2>

    <form action="{{ url_for('event_search') }}" method="post" class="search-form">
        <div class="form-group">
            <label>地域名：</label>
            <input type="text" name="area" placeholder="例：東京、大阪、福岡" value="{{ area or '' }}">
        </div>

        <div class="form-group">
            <label>日付：</label>
            <input type="date" name="date" value="{{ date or '' }}">
        </div>

        <div class="form-group">
            <label>カテゴリー：</label>
            <select name="category">
                <option value="">選択してください</option>
                <option value="祭り">祭り</option>
                <option value="花火大会">花火大会</option>
                <option value="音楽フェス">音楽フェス</option>
                <option value="展示会">展示会</option>
                <option value="その他">その他</option>
            </select>
        </div>

        <div class="form-group">
            <label>キーワード：</label>
            <input type="text" name="keyword" value="{{ keyword or '' }}">
        </div>

        <button type="submit" class="search-btn">検索</button>
    </form>

    {% if events %}
    <div class="event-list">
        {% for event in events %}
        <div class="event-card">
            <h3>{{ event.name }}</h3>
            <p><b>開催期間：</b>{{ event.period }}</p>
            <p><b>開催場所：</b>{{ event.location }}</p>
            <p>{{ event.summary }}</p>
            <p><b>現在の天気：</b>{{ event.weather }}</p>
        </div>
        {% endfor %}
    </div>
    {% else %}
        <p>条件を入力してイベントを検索してください。</p>
    {% endif %}
</section>
{% endblock %}
