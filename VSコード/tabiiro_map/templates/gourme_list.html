{% extends "base.html" %}

{% block title %}グルメ一覧 | 旅色マップ{% endblock %}

{% block main_content %}
<div class="gourmet-list-container">
    <h1>グルメ記録</h1>

    <div class="top-btn-wrapper">
        <a href="{{ url_for('gourmet_record') }}" class="add-button">新規追加</a>
    </div>

    {% if gourmet_list|length == 0 %}
        <p class="no-data">まだグルメ情報が登録されていません。</p>
    {% else %}
        <div class="gourmet-grid">
            {% for g in gourmet_list %}
            <div class="gourmet-card">
                
                {% if g.photo_url %}
                    <img src="{{ g.photo_url }}" alt="{{ g.shop_name }}" class="gourmet-photo">
                {% else %}
                    <div class="no-photo">写真なし</div>
                {% endif %}

                <h2 class="gourmet-name">{{ g.shop_name }}</h2>

                <p class="dish-name"><strong>料理名：</strong>{{ g.dish_name }}</p>

                <p class="rating">
                    <strong>評価：</strong>
                    {% for i in range(g.rating) %}★{% endfor %}
                    {% for i in range(5 - g.rating) %}☆{% endfor %}
                </p>

                <p class="gourmet-date"><strong>訪問日：</strong>{{ g.date }}</p>

                <p class="gourmet-price"><strong>金額：</strong>{{ g.price }} 円</p>

                <p class="gourmet-comment">{{ g.comment }}</p>

                <a href="{{ url_for('gourmet_detail', gourmet_id=g.id) }}" class="detail-button">詳細を見る →</a>
            </div>
            {% endfor %}
        </div>
    {% endif %}
</div>
{% endblock %}
