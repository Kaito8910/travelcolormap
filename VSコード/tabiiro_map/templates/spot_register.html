{% extends "base.html" %}

{% block title %}観光地登録 | 旅色マップ{% endblock %}

{% block main_content %}
<div class="spot-register-container">
    <h1>観光地登録</h1>

    <form method="POST" action="{{ url_for('spot.spot_register') }}" enctype="multipart/form-data" class="spot-form">

        <!-- 観光地名 -->
        <div class="form-group">
            <label for="spot_name">観光地名</label>
            <input type="text" id="spot_name" name="spot_name" required>
        </div>

        <!-- 都道府県 -->
        <div class="form-group">
            <label for="prefecture">都道府県</label>
            <select id="prefecture" name="prefecture" required>
                <option value="">選択してください</option>
                {% for p in [
                    "北海道","青森県","岩手県","宮城県","秋田県","山形県","福島県",
                    "茨城県","栃木県","群馬県","埼玉県","千葉県","東京都","神奈川県",
                    "新潟県","富山県","石川県","福井県","山梨県","長野県","岐阜県",
                    "静岡県","愛知県","三重県","滋賀県","京都府","大阪府","兵庫県",
                    "奈良県","和歌山県","鳥取県","島根県","岡山県","広島県","山口県",
                    "徳島県","香川県","愛媛県","高知県","福岡県","佐賀県","長崎県",
                    "熊本県","大分県","宮崎県","鹿児島県","沖縄県"
                ] %}
                    <option value="{{ p }}">{{ p }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- 訪問日 -->
        <div class="form-group">
            <label for="visit_date">訪問日</label>
            <input type="date" id="visit_date" name="visit_date" required>
        </div>

        <!-- 写真（1枚ずつ追加 + プレビュー） -->
        <div class="form-group">
            <label>写真</label>

            <div id="photo-list" class="photo-list"></div>

            <button type="button" id="add-photo-btn" class="add-photo-btn">画像を追加</button>

            <template id="photo-item-template">
                <div class="photo-item">
                <input type="file" name="photos[]" accept="image/*" class="photo-input" />
                <div class="photo-preview-wrap">
                    <img class="photo-preview" alt="preview" />
                </div>
                <button type="button" class="remove-photo-btn">削除</button>
                </div>
            </template>
        </div>

        <!-- コメント -->
        <div class="form-group">
            <label for="comment">コメント</label>
            <textarea id="comment" name="comment" rows="4"></textarea>
        </div>

        <button type="submit" class="submit-button">登録</button>
    </form>
</div>
{% block scripts %}
<script src="{{ url_for('static', filename='js/spot_register.js') }}"></script>
{% endblock %}

{% endblock %}
